<div class="static-content">
  <div class="index-list">
    <p>This page presents a guide on using modules.</p>
    <ul>
      <li><a href="#introduction">Usefulness of modularization</a></li>
      <li><a href="#how-to-use">How to use modularization</a></li>
    </ul>
  </div>

  <div class="example-container clearfix">
    <h3 id="introduction">Usefulness of modularization</h3>
    <p>The full version of Handsontable consists of multiple built-in modules such as plugins, renderers, editors, validators, and cell-types.
      It also includes the whole rendering functionality and advanced data management. This is a compact tool with plenty of options available.
    </br>
      When you become familiar with Handsontable functionalities you may find out that some parts of it are essential in your application and some
      of them stay idle most of the time.
    </br>
      Thanks to <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">modules</a></strong> the package could be split into
      smaller pieces and you can <strong>import</strong> them as you need. Essentialy it was divided into two: the base and the optional part.
    </br>
      The base of Handsontable holds mandatory parts packed inside <code>handsontable/base</code>, and it includes vital parts for the component
      to run. The rest is customizable based on what you want to import.
    </br>
     A mindful use of the modularization brings a lot of optimization to the application, yet, it only needs several lines of code.
  </br>
     Compare the following examples to see the difference in KB of the final build.
     Note: this is an example in a nutshell, the next section shows how to do it step by step.
</br>

    This is a simple example that shows sample countries and cities and although it looks small it will generate over 345 KB (Gzipped):
     <code class="lang-js">
      // import a full build, all functionalities included
      import Handsontable from 'handsontable';

      const container = document.createElement('div');
      document.body.appendChild(container);
      const hot = new Handsontable(container, {
        colHeaders: true,
        columns: [
          { data: 'city' },
          {
            data: 'country',
            type: 'dropdown',
            source: ['Finland', 'France', 'Germany', 'Poland', 'United Kingdom'],
          },
        ],
        data: [
          {
            city: "Fontainebleau",
            country: "France",
          },
          {
            city: "Milton",
            country: "United Kingdom",
          },
          {
            city: "Giedlarowa",
            country: "Poland",
          },
          {
            city: "Forssa",
            country: "Finland",
          },
          {
            city: "Halle",
            country: "Germany",
          }
        ],
        dropdownMenu: true,
        filters: true,
      });
      </code>
      Thanks to modularization you can achieve exactly same result but it will generate less KB.
      These steps decreased the final bundle to 200 KB (Gzipped).
      <code class="lang-js">
        // import the base only
        import Handsontable from 'handsontable/base';

        // choose cell types you want to use and import them
        import { registerCellType, DropdownCellType } from 'handsontable/cellTypes';

        // choose plugins you want to use and import them
        import {
          registerPlugin,
          AutoColumnSize,
          CopyPaste,
          Filters,
        } from 'handsontable/plugins';

        // register imported cell types and plugins
        registerCellType(DropdownCellType);
        registerPlugin(AutoColumnSize);
        registerPlugin(CopyPaste);
        registerPlugin(Filters);

        // the rest of code remain exactly same as in the previous example!
        const container = document.createElement('div');
        document.body.appendChild(container);

        const hot = new Handsontable(container, {
          colHeaders: true,
          filters: true,
          data: [
            {
              city: "Fontainebleau",
              country: "France",
            },
            {
              city: "Milton",
              country: "United Kingdom",
            },
            {
              city: "Giedlarowa",
              country: "Poland",
            },
            {
              city: "Forssa",
              country: "Finland",
            },
            {
              city: "Halle",
              country: "Germany",
            }
          ],
          dropdownMenu: true,
          columns: [
            { data: 'city' },
            {
              data: 'country',
              type: 'dropdown',
              source: ['Finland', 'France', 'Germany', 'Poland', 'United Kingdom'],
            },
          ]
        });

      </code>
      <p>
        You can go even further and optimize <strong>momentjs/locales</strong> by excluding unnecessary localizations and decrease the final bundle of the example to 150 KB (Gzipped).
        Eventually, over 56% of the final bundle size was saved!
      </br>
        The graph present the change in KB size of the presented example - a full bundle, basic optimization and with optimized locales:
        <img src="images/modularization_comparison.png" alt="modularization_comparison_graph" />
        </p>

    </p>
  </div>

  <div class="example-container clearfix">
      <h3 id="how-to-use">How to use modularization</h3>
      <p>
        The very first step towards using the modules is learning which independent parts you can import and which of them are mandatory.
        First, you need to import the <strong>base</strong> which contains the core elements of the component. Without them, Handsontable cannot be built
        at all:
        <code class="lang-js">
          // this part is crucial to be imported
          import Handsontable from 'handsontable/base';
          </code>
          If you had already an import of Handsontable just remove this line:
          <code class="lang-js">
            // you no longer need this import
            import Handsontable from "handsontable";
          </code>
        The Handsontable <strong>base</strong> part includes:
        <ul>
          <li>moment.js</li>
          <li>dompurify</li>
          <li>core-js</li>
          <li>core functionalities</li>
          <li>"text" cell type</li>
        </ul>

        Having this set up you can ackowledge which elements you can import as needed.
      </br>
        Elements to be imported manually on demand:
        <ul>
          <li>plugins</li>
          <li>editors</li>
          <li>renderers</li>
          <li>validators</li>
          <li>cell types</li>
          <li>locales</li>
          </ul>
        The usecases may wary greatly, this guide will go through the categories and present one example for each.

        <h4>Importing plugins</h4>
        <p>
        To use a specific plugin you need to import it alongside registering method. For instance, try importing the <code>ContextMenu</code> plugin:
        <code class="lang-js">
          // remember to have the base imported
          import Handsontable from "handsontable";

          // import the method for registering a plugin
          // import the ContextMenu plugin
          import { registerPlugin, ContextMenu } from 'handsontable/plugins';
        </code>
        Afterwards you need to use the <code>registerPlugin</code> method to register the <code>ContextMenu</code> plugin:
        <code class="lang-js">
          // register the plugin before using it
          registerPlugin(ContextMenu);
        </code>
        Now, you can use the ContextMenu plugin, the full example looks like this:
        <code class="lang-js">
          import Handsontable from "handsontable";
          import { registerPlugin, ContextMenu } from 'handsontable/plugins';

          registerPlugin(ContextMenu);

          // a placeholder for Handsontable
          const container = document.createElement('div');
          document.body.appendChild(container);

          // use the context menu as you need
          new Handsontable(container, {
            contextMenu: true,
            // rest of the component
          });
        </code>

          </p>
      </p>
  </div>


  <div class="example-container clearfix" name="last">
      <h3 id="how-to-use-language">Registering and using an language</h3>
      <p>Content</p>
  </div>

  <p class="gap-top-xsmall">
    <a href="https://github.com/handsontable/docs/edit/<?js= version ?>/tutorials/modularization.html" class="edit-doc" target="_blank">
      Help us improve this page
    </a>
  </p>
</div>